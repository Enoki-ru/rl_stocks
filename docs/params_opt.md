### Основная идея
Разработка класса, который постепенно генерирует случайные выборки с всё более и более сложными вариантами, переходя от более простых задач к более сложным задачам

### Параметры среды
Каждая новая среда для Модели - это случайный промежуток времени со случайными компаниями.

Какие есть параметры:
- `n_stocks`: 100  # Кол-во случайных компаний, которые будут подаваться во время обучения
- `n_days`: 7  # Кол-во дней эксперимента
- `n_days_history`: 60  # Кол-во учтенных дней акций


Факты про `n_stocks`:
- Чем больше компаний, тем дольше идут вычисления
- Чем меньше компаний, тем меньше выбора акций для покупки/продажи
- Чем меньше выбора, тем сложнее найти акции, которые действительно стоит покупать
- Чем сложнее найти акции, которые стоит покупать, тем меньше можно заработать
- Если будет слишком мало команий, растет риск того, что даже идеальная модель не сможет найти растущие компании на промежутке

Факты про `n_days`:
- Чем больше дней у экспа, тем дольше идут вычисления
- Чем больше дней у экспа, тем больше потенциальных моментов для заработка
- Чем больше дней у экспа, тем на больший промежуток времени можно расчитывать
- Чем больше дней у экспа, тем больше шансов вернуть рискованные потери в самом начале, через проход в долгую
- Чем больше моментов для заработка, тем больше можно заработать
- Чем больше дней у экспа, тем больше в среднем становятся все акции (Рынок в целом весь растет)
- Чем больше в среднем становятся акции, тем выше должно быть ожидание полезности от модели (Нужно невелировать общий тренд рынка для реальной оценки пользы)
- Если будет слишком мало дней у экспа, то растет риск того, что даже идеальная модель не сможет найти точки роста

Факты про `n_days_history`:
- Чем больше истории известно, тем дольше идут вычисления
- Чем больше истории известно, тем больше сезонных и трендовых колебаний можно выявить
- Чем больше колебаний выявлено, тем точнее будет модель
- Чем больше истории известно, тем точнее будут предикты на больший период времени в будущее
- Слишком большое количество истории не будет приносить большой вклад в качество модели (Поведение 5 лет назад не сильно влияет на текущее поведение)

### Когда модели пора переходить на следующую эпоху?
- Нужно постепенно повышать сложность среды для модели
- Нужно, чтобы для каждой конкретной среды модель успевала дообучиться до идеально возможных ходов, и только потом усложнять среду
- Нужно, чтобы модель была гибкой – умела работать как с небольшим кол-вом акций, так и с большим; чтобы умела работать к быстрый темпах, так и в долгую
- Нужно чтобы модель не только умела работать с акциями, но и со своим портфелем
- Случайный набор из акций во времени не гарантирует хоть какого-то роста (Отрезок может упасть в момент глобального Кризиса, где все акции просели)

С учетом всех фактов, можно предположить, что переход на следующий эпизод стоит делать, когда:
1. Средняя оценка в эпизоде стабилизируется (variance < 10% за последние 50 попыток)

Переход же на следующую эпоху (Усложнение модели) стоит делать, когда:
1. Модель перестала улучшаться в этой среде, независимо от временных участков и компаний

Как в итоге делаем:
1. Нарезаем существующие временные промежутки на случайные куски (создаем функцию, которая по временным окнам возвращает случайный промежуток) с возможностью повторения
2. Нарезаем полученные временные промежутки на наборы из `n_stocks` компаний с возможностью попасться несколько раз. `n_stocks` меняется динамически внутри
3. Перемешиваем полученный датасет
4. Создаем генератор, который отдает каждый раз эти данные
5. Модель для каждого набора пробует до тех пор, пора `money_has - money_was` не будет иметь дисперсию за `n_tries` попыток
5. После прохождения всех данных, создаем заново все данные в более сложной среде
6. Повторяем п.1 - п.5 несколько раз


Как правильно оценить модель (Поступила она хорошо или плохо):
- У модели всегда есть вариант – Ничего не покупать, и просто холдить деньги
- Модель должна научиться понимать, что в какие-то моменты просто Холдить деньги – это лучшее решение
- Чем больше модель заработала относительно изначального капитала, тем лучше